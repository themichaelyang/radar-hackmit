'use strict';

function main() {
  var r = Radar();
  var z = -1;
  var x = void 0;
  var y = void 0;

  r.start();

  window.setTimeout(function () {
    r.startLoop(function () {
      if (!Number.isNaN(r.getCoords().y)) {
        z = 1 - r.getCoords().y;
      }
    });
  }, 500); // absolute trash, please use promises next time
  var peer = new Peer('caller', { secure: true, host: 'localhost', port: 9000, path: '/' });
  // let peer = new Peer('caller', {secure: true, key: 'yxgyl5evdndn29'}); // their server doesn't support ssl
  var connection = peer.connect('callee');
  connection.on('open', function () {
    //  connection.send('dogs man');
  });
  connection.on('data', function (data) {

    x = data.x;
    y = data.y;
    console.log(x, y, z);
  });
}

window.onload = main;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2t0b3AuanMiXSwibmFtZXMiOlsibWFpbiIsInIiLCJSYWRhciIsInoiLCJ4IiwieSIsInN0YXJ0Iiwid2luZG93Iiwic2V0VGltZW91dCIsInN0YXJ0TG9vcCIsIk51bWJlciIsImlzTmFOIiwiZ2V0Q29vcmRzIiwicGVlciIsIlBlZXIiLCJzZWN1cmUiLCJob3N0IiwicG9ydCIsInBhdGgiLCJjb25uZWN0aW9uIiwiY29ubmVjdCIsIm9uIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJvbmxvYWQiXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBU0EsSUFBVCxHQUFnQjtBQUNkLE1BQUlDLElBQUlDLE9BQVI7QUFDQSxNQUFJQyxJQUFJLENBQUMsQ0FBVDtBQUNBLE1BQUlDLFVBQUo7QUFDQSxNQUFJQyxVQUFKOztBQUVBSixJQUFFSyxLQUFGOztBQUVBQyxTQUFPQyxVQUFQLENBQWtCLFlBQU07QUFBQ1AsTUFBRVEsU0FBRixDQUFZLFlBQU07QUFDekMsVUFBSSxDQUFDQyxPQUFPQyxLQUFQLENBQWFWLEVBQUVXLFNBQUYsR0FBY1AsQ0FBM0IsQ0FBTCxFQUFvQztBQUNsQ0YsWUFBSSxJQUFJRixFQUFFVyxTQUFGLEdBQWNQLENBQXRCO0FBQ0Q7QUFDRixLQUp3QjtBQUl0QixHQUpILEVBSUssR0FKTCxFQVJjLENBWUg7QUFDWCxNQUFJUSxPQUFPLElBQUlDLElBQUosQ0FBUyxRQUFULEVBQW1CLEVBQUNDLFFBQVEsSUFBVCxFQUFlQyxNQUFNLFdBQXJCLEVBQWtDQyxNQUFNLElBQXhDLEVBQThDQyxNQUFNLEdBQXBELEVBQW5CLENBQVg7QUFDQTtBQUNBLE1BQUlDLGFBQWFOLEtBQUtPLE9BQUwsQ0FBYSxRQUFiLENBQWpCO0FBQ0FELGFBQVdFLEVBQVgsQ0FBYyxNQUFkLEVBQXNCLFlBQU07QUFDMUI7QUFDRCxHQUZEO0FBR0FGLGFBQVdFLEVBQVgsQ0FBYyxNQUFkLEVBQXNCLFVBQUNDLElBQUQsRUFBVTs7QUFFOUJsQixRQUFJa0IsS0FBS2xCLENBQVQ7QUFDQUMsUUFBSWlCLEtBQUtqQixDQUFUO0FBQ0FrQixZQUFRQyxHQUFSLENBQVlwQixDQUFaLEVBQWVDLENBQWYsRUFBa0JGLENBQWxCO0FBQ0QsR0FMRDtBQU1EOztBQUVESSxPQUFPa0IsTUFBUCxHQUFnQnpCLElBQWhCIiwiZmlsZSI6ImRlc2t0b3AuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBtYWluKCkge1xuICBsZXQgciA9IFJhZGFyKCk7XG4gIGxldCB6ID0gLTE7XG4gIGxldCB4O1xuICBsZXQgeTtcblxuICByLnN0YXJ0KCk7XG5cbiAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge3Iuc3RhcnRMb29wKCgpID0+IHtcbiAgICBpZiAoIU51bWJlci5pc05hTihyLmdldENvb3JkcygpLnkpKSB7XG4gICAgICB6ID0gMSAtIHIuZ2V0Q29vcmRzKCkueTtcbiAgICB9XG4gIH0pfSwgNTAwKTsgLy8gYWJzb2x1dGUgdHJhc2gsIHBsZWFzZSB1c2UgcHJvbWlzZXMgbmV4dCB0aW1lXG4gIGxldCBwZWVyID0gbmV3IFBlZXIoJ2NhbGxlcicsIHtzZWN1cmU6IHRydWUsIGhvc3Q6ICdsb2NhbGhvc3QnLCBwb3J0OiA5MDAwLCBwYXRoOiAnLyd9KTtcbiAgLy8gbGV0IHBlZXIgPSBuZXcgUGVlcignY2FsbGVyJywge3NlY3VyZTogdHJ1ZSwga2V5OiAneXhneWw1ZXZkbmRuMjknfSk7IC8vIHRoZWlyIHNlcnZlciBkb2Vzbid0IHN1cHBvcnQgc3NsXG4gIGxldCBjb25uZWN0aW9uID0gcGVlci5jb25uZWN0KCdjYWxsZWUnKTtcbiAgY29ubmVjdGlvbi5vbignb3BlbicsICgpID0+IHtcbiAgICAvLyAgY29ubmVjdGlvbi5zZW5kKCdkb2dzIG1hbicpO1xuICB9KTtcbiAgY29ubmVjdGlvbi5vbignZGF0YScsIChkYXRhKSA9PiB7XG5cbiAgICB4ID0gZGF0YS54O1xuICAgIHkgPSBkYXRhLnk7XG4gICAgY29uc29sZS5sb2coeCwgeSwgeik7XG4gIH0pO1xufVxuXG53aW5kb3cub25sb2FkID0gbWFpbjtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
